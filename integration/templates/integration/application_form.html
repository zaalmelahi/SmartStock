{% extends "store/base.html" %}
{% load static %}
{% block title %}Application Form{% endblock title %}
{% block content %}
<div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-md-10">
            <div class="card shadow-sm border-0 rounded-3">
                <div class="card-header bg-success text-white py-3">
                    <h5 class="mb-0 text-center">{% if object %}Edit{% else %}New{% endif %} Application</h5>
                </div>
                <div class="card-body p-4">
                    <form method="post" novalidate>
                        {% csrf_token %}
                        <div class="mb-4">
                            <h6 class="text-success border-bottom pb-2 mb-3">Basic Information</h6>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label fw-bold small text-uppercase">{{ form.name.label }}</label>
                                    {{ form.name }} {{ form.name.errors }}
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label fw-bold small text-uppercase">{{ form.configuration.label }}</label>
                                    {{ form.configuration }} {{ form.configuration.errors }}
                                </div>
                            </div>
                            <div class="row mt-3 g-3">
                                <div class="col-md-4">
                                    <div class="form-check form-switch mt-2">
                                        {{ form.enabled }}
                                        <label class="form-check-label ms-2" for="{{ form.enabled.id_for_label }}">{{ form.enabled.label }}</label>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-check mt-2">
                                        {{ form.auto_replay_group }}
                                        <label class="form-check-label ms-1" for="{{ form.auto_replay_group.id_for_label }}">{{ form.auto_replay_group.label }}</label>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-check mt-2">
                                        {{ form.apply_authorized_contact }}
                                        <label class="form-check-label ms-1" for="{{ form.apply_authorized_contact.id_for_label }}">{{ form.apply_authorized_contact.label }}</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="mt-5 mb-4">
                            <h6 class="text-success border-bottom pb-2 mb-3">Technical Settings</h6>
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label class="form-label fw-bold small text-uppercase">{{ form.bot_id.label }}</label>
                                    {{ form.bot_id }} {{ form.bot_id.errors }}
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label fw-bold small text-uppercase">{{ form.app_id.label }}</label>
                                    {{ form.app_id }} {{ form.app_id.errors }}
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label fw-bold small text-uppercase">{{ form.webhook_key.label }}</label>
                                    {{ form.webhook_key }} {{ form.webhook_key.errors }}
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label fw-bold small text-uppercase">{{ form.whatsapp_provider_type.label }}</label>
                                    {{ form.whatsapp_provider_type }} {{ form.whatsapp_provider_type.errors }}
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label fw-bold small text-uppercase">{{ form.phone.label }}</label>
                                    {{ form.phone }} {{ form.phone.errors }}
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label fw-bold small text-uppercase">{{ form.session.label }}</label>
                                    {{ form.session }} {{ form.session.errors }}
                                </div>
                            </div>
                        </div>
                        <div class="d-flex justify-content-end gap-2 pt-3 mt-4 border-top">
                            <a href="{% url 'application-list' %}" class="btn btn-outline-secondary px-4">Cancel</a>
                            <button type="submit" class="btn btn-success px-4">Save Changes</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock content %}
